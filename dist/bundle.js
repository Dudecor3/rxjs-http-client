!function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=22)}([function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(9),o=t(10),i=t(20),s=t(21);e.of=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];switch(n.isScheduler(t)?r.pop():t=void 0,r.length){case 0:return i.empty(t);case 1:return t?o.fromArray(r,t):s.scalar(r[0]);default:return o.fromArray(r,t)}}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(11),o=t(15),i=t(16),s=t(17),c=t(2),u=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(r,e,t){var n=this.operator,i=o.toSubscriber(r,e,t);if(n?i.add(n.call(i,this.source)):i.add(this.source||c.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),c.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){c.config.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),n.canReportError(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var t=this;return new(e=a(e))(function(e,n){var o;o=t.subscribe(function(e){try{r(e)}catch(r){n(r),o&&o.unsubscribe()}},n,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[i.observable]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:s.pipeFromArray(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=a(r))(function(r,t){var n;e.subscribe(function(r){return n=r},function(r){return t(r)},function(){return r(n)})})},r.create=function(e){return new r(e)},r}();function a(r){if(r||(r=c.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}e.Observable=u},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=r},get useDeprecatedSynchronousErrorHandling(){return n}}},function(r,e,t){"use strict";var n,o=this&&this.__extends||(n=function(r,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)},function(r,e){function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)});Object.defineProperty(e,"__esModule",{value:!0});var i=t(4),s=t(5),c=t(7),u=t(8),a=t(2),p=t(6),h=function(r){function e(t,n,o){var i=r.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.empty;break;case 1:if(!t){i.destination=s.empty;break}if("object"==typeof t){t instanceof e?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(i)):(i.syncErrorThrowable=!0,i.destination=new f(i,t));break}default:i.syncErrorThrowable=!0,i.destination=new f(i,t,n,o)}return i}return o(e,r),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(r,t,n){var o=new e(r,t,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=e,this},e}(c.Subscription);e.Subscriber=h;var f=function(r){function e(e,t,n,o){var c,u=r.call(this)||this;u._parentSubscriber=e;var a=u;return i.isFunction(t)?c=t:t&&(c=t.next,n=t.error,o=t.complete,t!==s.empty&&(a=Object.create(t),i.isFunction(a.unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=c,u._error=n,u._complete=o,u}return o(e,r),e.prototype.next=function(r){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},e.prototype.error=function(r){if(!this.isStopped){var e=this._parentSubscriber,t=a.config.useDeprecatedSynchronousErrorHandling;if(this._error)t&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(e.syncErrorThrowable)t?(e.syncErrorValue=r,e.syncErrorThrown=!0):p.hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),t)throw r;p.hostReportError(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var t=function(){return r._complete.call(r._context)};a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,e){try{r.call(this._context,e)}catch(r){if(this.unsubscribe(),a.config.useDeprecatedSynchronousErrorHandling)throw r;p.hostReportError(r)}},e.prototype.__tryOrSetError=function(r,e,t){if(!a.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,t)}catch(e){return a.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=e,r.syncErrorThrown=!0,!0):(p.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(h);e.SafeSubscriber=f},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=function(r){return"function"==typeof r}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(2),o=t(6);e.empty={closed:!0,next:function(r){},error:function(r){if(n.config.useDeprecatedSynchronousErrorHandling)throw r;o.hostReportError(r)},complete:function(){}}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hostReportError=function(r){setTimeout(function(){throw r})}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(12),o=t(13),i=t(4),s=t(14),c=function(){function r(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var e;return r.prototype.unsubscribe=function(){var r,e=!1;if(!this.closed){var t=this._parent,c=this._parents,a=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,f=c?c.length:0;t;)t.remove(this),t=++h<f&&c[h]||null;if(i.isFunction(a))try{a.call(this)}catch(t){e=!0,r=t instanceof s.UnsubscriptionError?u(t.errors):[t]}if(n.isArray(p))for(h=-1,f=p.length;++h<f;){var l=p[h];if(o.isObject(l))try{l.unsubscribe()}catch(t){e=!0,r=r||[],t instanceof s.UnsubscriptionError?r=r.concat(u(t.errors)):r.push(t)}}if(e)throw new s.UnsubscriptionError(r)}},r.prototype.add=function(e){var t=e;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;(t=new r)._subscriptions=[n]}break;default:if(!e)return r.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(t._addParent(this)){var o=this._subscriptions;o?o.push(t):this._subscriptions=[t]}return t},r.prototype.remove=function(r){var e=this._subscriptions;if(e){var t=e.indexOf(r);-1!==t&&e.splice(t,1)}},r.prototype._addParent=function(r){var e=this._parent,t=this._parents;return e!==r&&(e?t?-1===t.indexOf(r)&&(t.push(r),!0):(this._parents=[r],!0):(this._parent=r,!0))},r.EMPTY=((e=new r).closed=!0,e),r}();function u(r){return r.reduce(function(r,e){return r.concat(e instanceof s.UnsubscriptionError?e.errors:e)},[])}e.Subscription=c},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=function(r){return r&&"function"==typeof r.schedule}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(1),o=t(7),i=t(19);e.fromArray=function(r,e){return e?new n.Observable(function(t){var n=new o.Subscription,i=0;return n.add(e.schedule(function(){i!==r.length?(t.next(r[i++]),t.closed||n.add(this.schedule())):t.complete()})),n}):new n.Observable(i.subscribeToArray(r))}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(3);e.canReportError=function(r){for(;r;){var e=r,t=e.closed,o=e.destination,i=e.isStopped;if(t||i)return!1;r=o&&o instanceof n.Subscriber?o:null}return!0}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(r){return null!==r&&"object"==typeof r}},function(r,e,t){"use strict";function n(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,e){return e+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),e.UnsubscriptionError=n},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),o=t(8),i=t(5);e.toSubscriber=function(r,e,t){if(r){if(r instanceof n.Subscriber)return r;if(r[o.rxSubscriber])return r[o.rxSubscriber]()}return r||e||t?new n.Subscriber(r,e,t):new n.Subscriber(i.empty)}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(18);function o(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}:n.noop}e.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return o(r)},e.pipeFromArray=o},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(){}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.closed||e.complete()}}},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(1);function o(r){return new n.Observable(function(e){return r.schedule(function(){return e.complete()})})}e.EMPTY=new n.Observable(function(r){return r.complete()}),e.empty=function(r){return r?o(r):e.EMPTY},e.emptyScheduled=o},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(1);e.scalar=function(r){var e=new n.Observable(function(e){e.next(r),e.complete()});return e._isScalar=!0,e.value=r,e}},function(r,e,t){"use strict";t.r(e);class n{}n.httpConfigurationsDictionary={POST:{method:"POST",referrer:"no-referrer",redirect:"follow",headers:{"Content-Type":"application/json"},credentials:"same-origin",mode:"cors",cache:"no-cache",requestObject:{}},GET:{method:"GET",referrer:"no-referrer",redirect:"follow",headers:{"Content-Type":"application/json"},credentials:"same-origin",mode:"cors",cache:"no-cache"},PUT:{method:"PUT",referrer:"no-referrer",redirect:"follow",headers:{"Content-Type":"application/json"},credentials:"same-origin",mode:"cors",cache:"no-cache",requestObject:{}}};class o{static getHttpPostConfigFor(r){const e=n.httpConfigurationsDictionary.POST;return{method:r.method?r.method:e.method,referrer:r.referrer?r.referrer:e.referrer,redirect:r.redirect?r.redirect:e.redirect,headers:r.headers?Object.assign({},r.headers,e.headers):e.headers,credentials:r.credentials?r.credentials:e.credentials,mode:r.mode?r.mode:e.mode,cache:r.cache?r.cache:e.cache,requestObject:r.requestObject?r.requestObject:e.requestObject}}static getHttpGetConfigFor(r){const e=n.httpConfigurationsDictionary.GET;return{method:r.method?r.method:e.method,referrer:r.referrer?r.referrer:e.referrer,redirect:r.redirect?r.redirect:e.redirect,headers:r.headers?Object.assign({},r.headers,e.headers):e.headers,credentials:r.credentials?r.credentials:e.credentials,mode:r.mode?r.mode:e.mode,cache:r.cache?r.cache:e.cache,requestObject:r.requestObject?r.requestObject:e.requestObject}}static getHttpPutConfigFor(r){const e=n.httpConfigurationsDictionary.PUT;return{method:r.method?r.method:e.method,referrer:r.referrer?r.referrer:e.referrer,redirect:r.redirect?r.redirect:e.redirect,headers:r.headers?Object.assign({},r.headers,e.headers):e.headers,credentials:r.credentials?r.credentials:e.credentials,mode:r.mode?r.mode:e.mode,cache:r.cache?r.cache:e.cache,requestObject:r.requestObject?r.requestObject:e.requestObject}}}class i{static mapRequestInitFor(r){return{cache:r.cache,mode:r.mode,credentials:r.credentials,headers:r.headers,redirect:r.redirect,referrer:r.referrer,method:r.method,body:r.requestObject?JSON.stringify(r.requestObject):null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var s=function(r,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)};function c(r,e){function t(){this.constructor=r}s(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function u(r){return"function"==typeof r}var a=!1,p={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){r&&(new Error).stack;a=r},get useDeprecatedSynchronousErrorHandling(){return a}};function h(r){setTimeout(function(){throw r})}var f={closed:!0,next:function(r){},error:function(r){if(p.useDeprecatedSynchronousErrorHandling)throw r;h(r)},complete:function(){}},l=Array.isArray||function(r){return r&&"number"==typeof r.length};function b(r){return null!==r&&"object"==typeof r}function d(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,e){return e+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}d.prototype=Object.create(Error.prototype);var y=d,_=function(){function r(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var e;return r.prototype.unsubscribe=function(){var r,e=!1;if(!this.closed){var t=this._parent,n=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=n?n.length:0;t;)t.remove(this),t=++s<c&&n[s]||null;if(u(o))try{o.call(this)}catch(t){e=!0,r=t instanceof y?v(t.errors):[t]}if(l(i))for(s=-1,c=i.length;++s<c;){var a=i[s];if(b(a))try{a.unsubscribe()}catch(t){e=!0,r=r||[],t instanceof y?r=r.concat(v(t.errors)):r.push(t)}}if(e)throw new y(r)}},r.prototype.add=function(e){var t=e;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;(t=new r)._subscriptions=[n]}break;default:if(!e)return r.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(t._addParent(this)){var o=this._subscriptions;o?o.push(t):this._subscriptions=[t]}return t},r.prototype.remove=function(r){var e=this._subscriptions;if(e){var t=e.indexOf(r);-1!==t&&e.splice(t,1)}},r.prototype._addParent=function(r){var e=this._parent,t=this._parents;return e!==r&&(e?t?-1===t.indexOf(r)&&(t.push(r),!0):(this._parents=[r],!0):(this._parent=r,!0))},r.EMPTY=((e=new r).closed=!0,e),r}();function v(r){return r.reduce(function(r,e){return r.concat(e instanceof y?e.errors:e)},[])}var m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),S=function(r){function e(t,n,o){var i=r.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=f;break;case 1:if(!t){i.destination=f;break}if("object"==typeof t){t instanceof e?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(i)):(i.syncErrorThrowable=!0,i.destination=new w(i,t));break}default:i.syncErrorThrowable=!0,i.destination=new w(i,t,n,o)}return i}return c(e,r),e.prototype[m]=function(){return this},e.create=function(r,t,n){var o=new e(r,t,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=e,this},e}(_),w=function(r){function e(e,t,n,o){var i,s=r.call(this)||this;s._parentSubscriber=e;var c=s;return u(t)?i=t:t&&(i=t.next,n=t.error,o=t.complete,t!==f&&(u((c=Object.create(t)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=i,s._error=n,s._complete=o,s}return c(e,r),e.prototype.next=function(r){if(!this.isStopped&&this._next){var e=this._parentSubscriber;p.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},e.prototype.error=function(r){if(!this.isStopped){var e=this._parentSubscriber,t=p.useDeprecatedSynchronousErrorHandling;if(this._error)t&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(e.syncErrorThrowable)t?(e.syncErrorValue=r,e.syncErrorThrown=!0):h(r),this.unsubscribe();else{if(this.unsubscribe(),t)throw r;h(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var t=function(){return r._complete.call(r._context)};p.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,e){try{r.call(this._context,e)}catch(r){if(this.unsubscribe(),p.useDeprecatedSynchronousErrorHandling)throw r;h(r)}},e.prototype.__tryOrSetError=function(r,e,t){if(!p.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,t)}catch(e){return p.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=e,r.syncErrorThrown=!0,!0):(h(e),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(S);var E="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(){}function O(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}:g}var j=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(r,e,t){var n=this.operator,o=function(r,e,t){if(r){if(r instanceof S)return r;if(r[m])return r[m]()}return r||e||t?new S(r,e,t):new S(f)}(r,e,t);if(n?o.add(n.call(o,this.source)):o.add(this.source||p.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),p.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){p.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),!function(r){for(;r;){var e=r,t=e.closed,n=e.destination,o=e.isStopped;if(t||o)return!1;r=n&&n instanceof S?n:null}return!0}(r)?console.warn(e):r.error(e)}},r.prototype.forEach=function(r,e){var t=this;return new(e=x(e))(function(e,n){var o;o=t.subscribe(function(e){try{r(e)}catch(r){n(r),o&&o.unsubscribe()}},n,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[E]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:O(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=x(r))(function(r,t){var n;e.subscribe(function(r){return n=r},function(r){return t(r)},function(){return r(n)})})},r.create=function(e){return new r(e)},r}();function x(r){if(r||(r=p.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var P=function(r){return function(e){return r.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,h),e}};function T(r,e){return new j(e?function(t){var n=new _;return n.add(e.schedule(function(){return r.then(function(r){n.add(e.schedule(function(){t.next(r),n.add(e.schedule(function(){return t.complete()}))}))},function(r){n.add(e.schedule(function(){return t.error(r)}))})})),n}:P(r))}var M=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return c(e,r),e.prototype.notifyNext=function(r,e,t,n,o){this.destination.next(e)},e.prototype.notifyError=function(r,e){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(S),H=function(r){function e(e,t,n){var o=r.call(this)||this;return o.parent=e,o.outerValue=t,o.outerIndex=n,o.index=0,o}return c(e,r),e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(S);function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var q=D();var A=function(r){if(r instanceof j)return function(e){return r._isScalar?(e.next(r.value),void e.complete()):r.subscribe(e)};if(r&&"function"==typeof r[E])return o=r,function(r){var e=o[E]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(r)};if((n=r)&&"number"==typeof n.length&&"function"!=typeof n)return t=r,function(r){for(var e=0,n=t.length;e<n&&!r.closed;e++)r.next(t[e]);r.closed||r.complete()};if(function(r){return!!r&&"function"!=typeof r.subscribe&&"function"==typeof r.then}(r))return P(r);if(r&&"function"==typeof r[q])return e=r,function(r){for(var t=e[q]();;){var n=t.next();if(n.done){r.complete();break}if(r.next(n.value),r.closed)break}return"function"==typeof t.return&&r.add(function(){t.return&&t.return()}),r};var e,t,n,o,i=b(r)?"an invalid object":"'"+r+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function R(r){return function(e){var t=new U(r),n=e.lift(t);return t.caught=n}}var U=function(){function r(r){this.selector=r}return r.prototype.call=function(r,e){return e.subscribe(new C(r,this.selector,this.caught))},r}(),C=function(r){function e(e,t,n){var o=r.call(this,e)||this;return o.selector=t,o.caught=n,o}return c(e,r),e.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void r.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new H(this,void 0,void 0);this.add(n),function(r,e,t,n,o){if(void 0===o&&(o=new H(r,t,n)),!o.closed)A(e)(o)}(this,t,void 0,void 0,n)}},e}(M),F=t(0);t.d(e,"HttpClient",function(){return k});class k{get(r,e={}){const t=o.getHttpGetConfigFor(e),n=i.mapRequestInitFor(t);return T(fetch(r,n).then(r=>r.json())).pipe(R(r=>Object(F.of)(r)))}post(r,e={}){const t=o.getHttpPostConfigFor(e),n=i.mapRequestInitFor(t);return T(fetch(r,n).then(r=>r.json())).pipe(R(r=>Object(F.of)(r)))}put(r,e={}){const t=o.getHttpPutConfigFor(e),n=i.mapRequestInitFor(t);return T(fetch(r,n).then(r=>r.json())).pipe(R(r=>Object(F.of)(r)))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC9PYnNlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL29ic2VydmFibGUvZnJvbUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL3V0aWwvY2FuUmVwb3J0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvaW50ZXJuYWwvdXRpbC9pc0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL3V0aWwvdG9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9zY2FsYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVzL2h0dHAtY29uZmlndXJhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3Rvcmllcy9odHRwLWNvbmZpZy5mYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9tYXBwZXJzL2h0dHAtcmVxdWVzdC5tYXBwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2NhblJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9Qcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT3V0ZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0lubmVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc1NjaGVkdWxlcl8xIiwiZnJvbUFycmF5XzEiLCJlbXB0eV8xIiwic2NhbGFyXzEiLCJvZiIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNjaGVkdWxlciIsImlzU2NoZWR1bGVyIiwicG9wIiwidW5kZWZpbmVkIiwiZW1wdHkiLCJmcm9tQXJyYXkiLCJzY2FsYXIiLCJjYW5SZXBvcnRFcnJvcl8xIiwidG9TdWJzY3JpYmVyXzEiLCJvYnNlcnZhYmxlXzEiLCJwaXBlXzEiLCJjb25maWdfMSIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJ0aGlzIiwiX2lzU2NhbGFyIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsIm9ic2VydmFibGUiLCJzb3VyY2UiLCJvYnNlcnZlck9yTmV4dCIsImVycm9yIiwiY29tcGxldGUiLCJzaW5rIiwidG9TdWJzY3JpYmVyIiwiYWRkIiwiY29uZmlnIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInN5bmNFcnJvclRocm93YWJsZSIsIl90cnlTdWJzY3JpYmUiLCJzeW5jRXJyb3JUaHJvd24iLCJzeW5jRXJyb3JWYWx1ZSIsImVyciIsImNhblJlcG9ydEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJmb3JFYWNoIiwibmV4dCIsInByb21pc2VDdG9yIiwiX3RoaXMiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZXIiLCJwaXBlIiwib3BlcmF0aW9ucyIsInBpcGVGcm9tQXJyYXkiLCJ0b1Byb21pc2UiLCJ4IiwiUHJvbWlzZSIsIkVycm9yIiwiX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzIiwic3RhY2siLCJsb2ciLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfXyIsImNvbnN0cnVjdG9yIiwiaXNGdW5jdGlvbl8xIiwiT2JzZXJ2ZXJfMSIsIlN1YnNjcmlwdGlvbl8xIiwicnhTdWJzY3JpYmVyXzEiLCJob3N0UmVwb3J0RXJyb3JfMSIsIlN1YnNjcmliZXIiLCJfc3VwZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsImlzU3RvcHBlZCIsImRlc3RpbmF0aW9uIiwiU2FmZVN1YnNjcmliZXIiLCJyeFN1YnNjcmliZXIiLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsImNsb3NlZCIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJfcGFyZW50IiwiX3BhcmVudHMiLCJTdWJzY3JpcHRpb24iLCJfcGFyZW50U3Vic2NyaWJlciIsImNvbnRleHQiLCJpc0Z1bmN0aW9uIiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJob3N0UmVwb3J0RXJyb3IiLCJ3cmFwcGVkQ29tcGxldGUiLCJmbiIsInBhcmVudCIsIl91bnN1YnNjcmliZSIsInNldFRpbWVvdXQiLCJpc0FycmF5XzEiLCJpc09iamVjdF8xIiwiVW5zdWJzY3JpcHRpb25FcnJvcl8xIiwiX3N1YnNjcmlwdGlvbnMiLCJlcnJvcnMiLCJoYXNFcnJvcnMiLCJpbmRleCIsImxlbiIsInJlbW92ZSIsImUiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzIiwiaXNBcnJheSIsInN1YiIsImlzT2JqZWN0IiwiY29uY2F0IiwicHVzaCIsInRlYXJkb3duIiwidG1wIiwiRU1QVFkiLCJfYWRkUGFyZW50Iiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInJlZHVjZSIsImVycnMiLCJNYXRoIiwicmFuZG9tIiwiJCRyeFN1YnNjcmliZXIiLCJzY2hlZHVsZSIsIk9ic2VydmFibGVfMSIsInN1YnNjcmliZVRvQXJyYXlfMSIsImlucHV0Iiwic3Vic2NyaWJlVG9BcnJheSIsIlN1YnNjcmliZXJfMSIsIm9ic2VydmVyIiwiX2EiLCJjbG9zZWRfMSIsIlVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsIiwibWVzc2FnZSIsIm1hcCIsInRvU3RyaW5nIiwiam9pbiIsIm5leHRPck9ic2VydmVyIiwibm9vcF8xIiwiZm5zIiwicHJldiIsIm5vb3AiLCJhcnJheSIsImVtcHR5U2NoZWR1bGVkIiwicmVzdWx0IiwiSHR0cENvbmZpZ3VyYXRpb25zIiwiaHR0cENvbmZpZ3VyYXRpb25zRGljdGlvbmFyeSIsIlBPU1QiLCJtZXRob2QiLCJyZWZlcnJlciIsInJlZGlyZWN0IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsImNyZWRlbnRpYWxzIiwiY2FjaGUiLCJyZXF1ZXN0T2JqZWN0IiwiR0VUIiwiUFVUIiwiaHR0cF9jb25maWdfZmFjdG9yeV9IdHRwQ29uZmlnRmFjdG9yeSIsIltvYmplY3QgT2JqZWN0XSIsImh0dHBQb3N0Q29uZmlndXJhdGlvbiIsImFzc2lnbiIsIkh0dHBSZXF1ZXN0TWFwcGVyIiwiaHR0cFJlcXVlc3RDb25maWciLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbmZpZ19jb25maWciLCJTdWJzY3JpcHRpb25fU3Vic2NyaXB0aW9uIiwiU3Vic2NyaWJlcl9TdWJzY3JpYmVyIiwiU3Vic2NyaWJlcl9TYWZlU3Vic2NyaWJlciIsIk9ic2VydmFibGVfT2JzZXJ2YWJsZSIsInN1YnNjcmliZVRvUHJvbWlzZSIsInByb21pc2UiLCJ0aGVuIiwiZnJvbVByb21pc2UiLCJPdXRlclN1YnNjcmliZXJfT3V0ZXJTdWJzY3JpYmVyIiwiT3V0ZXJTdWJzY3JpYmVyIiwiYXBwbHkiLCJub3RpZnlOZXh0Iiwib3V0ZXJWYWx1ZSIsImlubmVyVmFsdWUiLCJvdXRlckluZGV4IiwiaW5uZXJJbmRleCIsImlubmVyU3ViIiwibm90aWZ5RXJyb3IiLCJub3RpZnlDb21wbGV0ZSIsIklubmVyU3Vic2NyaWJlcl9Jbm5lclN1YnNjcmliZXIiLCJJbm5lclN1YnNjcmliZXIiLCJnZXRTeW1ib2xJdGVyYXRvciIsIml0ZXJhdG9yIiwiaXRlcmF0b3JfaXRlcmF0b3IiLCJzdWJzY3JpYmVUbyIsIm9iaiIsIm9icyIsIlR5cGVFcnJvciIsImlzUHJvbWlzZSIsIml0ZXJhYmxlIiwiaXRlbSIsImRvbmUiLCJyZXR1cm4iLCJjYXRjaEVycm9yIiwic2VsZWN0b3IiLCJDYXRjaE9wZXJhdG9yIiwiY2F1Z2h0IiwiY2F0Y2hFcnJvcl9DYXRjaFN1YnNjcmliZXIiLCJDYXRjaFN1YnNjcmliZXIiLCJlcnIyIiwiaW5uZXJTdWJzY3JpYmVyIiwib3V0ZXJTdWJzY3JpYmVyIiwic3Vic2NyaWJlVG9SZXN1bHQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwic3JjX0h0dHBDbGllbnQiLCJ1cmwiLCJyZXF1ZXN0Q29uZmlnIiwiZ2V0SHR0cEdldENvbmZpZ0ZvciIsImNvbmZpZ09iamVjdCIsIm1hcFJlcXVlc3RJbml0Rm9yIiwiZmV0Y2giLCJyZXMiLCJqc29uIiwiZ2V0SHR0cFBvc3RDb25maWdGb3IiLCJnZXRIdHRwUHV0Q29uZmlnRm9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFB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QUV0RSxPQUFPdkMsRUFDSDJDLE1BQU1MLEVBQUtHLEdBQ04xQyxLQUFNNkMsR0FBUUEsRUFBSUMsU0FDdEJqTCxLQUFLOEosRUFBWXZMLEdBQVVyRCxPQUFBMEIsRUFBQSxHQUFBMUIsQ0FBR3FELEtBR2hDNkksSUFBSXNELEVBQWE5TCxFQUE0QixJQUNoRCxNQUFNK0wsRUFBbUN4RCxFQUFrQmdFLG9CQUFvQnZNLEdBQ3pFaU0sRUFBNEJ0RCxFQUFrQnVELGtCQUFrQkgsR0FFdEUsT0FBT3ZDLEVBQ0gyQyxNQUFNTCxFQUFLRyxHQUNOMUMsS0FBTTZDLEdBQVFBLEVBQUlDLFNBQ3RCakwsS0FBSzhKLEVBQVl2TCxHQUFVckQsT0FBQTBCLEVBQUEsR0FBQTFCLENBQUdxRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaXNTY2hlZHVsZXJfMSA9IHJlcXVpcmUoXCIuLi91dGlsL2lzU2NoZWR1bGVyXCIpO1xudmFyIGZyb21BcnJheV8xID0gcmVxdWlyZShcIi4vZnJvbUFycmF5XCIpO1xudmFyIGVtcHR5XzEgPSByZXF1aXJlKFwiLi9lbXB0eVwiKTtcbnZhciBzY2FsYXJfMSA9IHJlcXVpcmUoXCIuL3NjYWxhclwiKTtcbmZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcl8xLmlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgYXJncy5wb3AoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gZW1wdHlfMS5lbXB0eShzY2hlZHVsZXIpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyID8gZnJvbUFycmF5XzEuZnJvbUFycmF5KGFyZ3MsIHNjaGVkdWxlcikgOiBzY2FsYXJfMS5zY2FsYXIoYXJnc1swXSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5XzEuZnJvbUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuZXhwb3J0cy5vZiA9IG9mO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY2FuUmVwb3J0RXJyb3JfMSA9IHJlcXVpcmUoXCIuL3V0aWwvY2FuUmVwb3J0RXJyb3JcIik7XG52YXIgdG9TdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi91dGlsL3RvU3Vic2NyaWJlclwiKTtcbnZhciBvYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGVcIik7XG52YXIgcGlwZV8xID0gcmVxdWlyZShcIi4vdXRpbC9waXBlXCIpO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIE9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXJfMS50b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc2luay5hZGQob3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5zb3VyY2UgfHwgKGNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdfMS5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yXzEuY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbb2JzZXJ2YWJsZV8xLm9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZV8xLnBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YWx1ZSA9IHg7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0cy5PYnNlcnZhYmxlID0gT2JzZXJ2YWJsZTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZ18xLmNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSBmYWxzZTtcbmV4cG9ydHMuY29uZmlnID0ge1xuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICBzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSeEpTOiBCYWNrIHRvIGEgYmV0dGVyIGVycm9yIGJlaGF2aW9yLiBUaGFuayB5b3UuIDwzJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gdmFsdWU7XG4gICAgfSxcbiAgICBnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpIHtcbiAgICAgICAgcmV0dXJuIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncztcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIE9ic2VydmVyXzEgPSByZXF1aXJlKFwiLi9PYnNlcnZlclwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuL1N1YnNjcmlwdGlvblwiKTtcbnZhciByeFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyXCIpO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIGhvc3RSZXBvcnRFcnJvcl8xID0gcmVxdWlyZShcIi4vdXRpbC9ob3N0UmVwb3J0RXJyb3JcIik7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBPYnNlcnZlcl8xLmVtcHR5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBPYnNlcnZlcl8xLmVtcHR5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyXzEucnhTdWJzY3JpYmVyXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gX3BhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbl8xLlN1YnNjcmlwdGlvbikpO1xuZXhwb3J0cy5TdWJzY3JpYmVyID0gU3Vic2NyaWJlcjtcbnZhciBTYWZlU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IE9ic2VydmVyXzEuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZChjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gX3RoaXMudW5zdWJzY3JpYmUuYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG5leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICB2YXIgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyA9IGNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3JfMS5ob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yXzEuaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jb21wbGV0ZS5jYWxsKF90aGlzLl9jb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIod3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWIgPSBmdW5jdGlvbiAoZm4sIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3JfMS5ob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvciA9IGZ1bmN0aW9uIChwYXJlbnQsIGZuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWNvbmZpZ18xLmNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdfMS5jb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcl8xLmhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgX3BhcmVudFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5TYWZlU3Vic2NyaWJlciA9IFNhZmVTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIGhvc3RSZXBvcnRFcnJvcl8xID0gcmVxdWlyZShcIi4vdXRpbC9ob3N0UmVwb3J0RXJyb3JcIik7XG5leHBvcnRzLmVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnXzEuY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcl8xLmhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBob3N0UmVwb3J0RXJyb3IoZXJyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRocm93IGVycjsgfSk7XG59XG5leHBvcnRzLmhvc3RSZXBvcnRFcnJvciA9IGhvc3RSZXBvcnRFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpc0FycmF5XzEgPSByZXF1aXJlKFwiLi91dGlsL2lzQXJyYXlcIik7XG52YXIgaXNPYmplY3RfMSA9IHJlcXVpcmUoXCIuL3V0aWwvaXNPYmplY3RcIik7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZShcIi4vdXRpbC9pc0Z1bmN0aW9uXCIpO1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JfMSA9IHJlcXVpcmUoXCIuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvclwiKTtcbnZhciBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IF9wYXJlbnRzID8gX3BhcmVudHMubGVuZ3RoIDogMDtcbiAgICAgICAgd2hpbGUgKF9wYXJlbnQpIHtcbiAgICAgICAgICAgIF9wYXJlbnQucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgX3BhcmVudCA9ICsraW5kZXggPCBsZW4gJiYgX3BhcmVudHNbaW5kZXhdIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3JfMS5VbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheV8xLmlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICAgICAgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdF8xLmlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcl8xLlVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5fYWRkUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9hZGRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFfcGFyZW50cykge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50cyA9IFtwYXJlbnRdO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudHMuaW5kZXhPZihwYXJlbnQpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uO1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yeFN1YnNjcmliZXIgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgPyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgOiAnQEByeFN1YnNjcmliZXJfJyArIE1hdGgucmFuZG9tKCk7XG5leHBvcnRzLiQkcnhTdWJzY3JpYmVyID0gZXhwb3J0cy5yeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzU2NoZWR1bGVyID0gaXNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKFwiLi4vT2JzZXJ2YWJsZVwiKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoXCIuLi9TdWJzY3JpcHRpb25cIik7XG52YXIgc3Vic2NyaWJlVG9BcnJheV8xID0gcmVxdWlyZShcIi4uL3V0aWwvc3Vic2NyaWJlVG9BcnJheVwiKTtcbmZ1bmN0aW9uIGZyb21BcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5XzEuc3Vic2NyaWJlVG9BcnJheShpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWIuYWRkKHRoaXMuc2NoZWR1bGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5mcm9tQXJyYXkgPSBmcm9tQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmliZXJcIik7XG5mdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcl8xLlN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnRzLmNhblJlcG9ydEVycm9yID0gY2FuUmVwb3J0RXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5SZXBvcnRFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09iamVjdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5VbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnRzLlVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgU3Vic2NyaWJlcl8xID0gcmVxdWlyZShcIi4uL1N1YnNjcmliZXJcIik7XG52YXIgcnhTdWJzY3JpYmVyXzEgPSByZXF1aXJlKFwiLi4vc3ltYm9sL3J4U3Vic2NyaWJlclwiKTtcbnZhciBPYnNlcnZlcl8xID0gcmVxdWlyZShcIi4uL09ic2VydmVyXCIpO1xuZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcl8xLlN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyXzEucnhTdWJzY3JpYmVyXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlcl8xLnJ4U3Vic2NyaWJlcl0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcihPYnNlcnZlcl8xLmVtcHR5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbmV4cG9ydHMudG9TdWJzY3JpYmVyID0gdG9TdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9TdWJzY3JpYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbm9vcF8xID0gcmVxdWlyZShcIi4vbm9vcFwiKTtcbmZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0cy5waXBlID0gcGlwZTtcbmZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKCFmbnMpIHtcbiAgICAgICAgcmV0dXJuIG5vb3BfMS5ub29wO1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG5leHBvcnRzLnBpcGVGcm9tQXJyYXkgPSBwaXBlRnJvbUFycmF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmV4cG9ydHMubm9vcCA9IG5vb3A7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdWJzY3JpYmVUb0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7IHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICB9XG4gICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfVxufTsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG5leHBvcnRzLkVNUFRZID0gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBleHBvcnRzLkVNUFRZO1xufVxuZXhwb3J0cy5lbXB0eSA9IGVtcHR5O1xuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuZXhwb3J0cy5lbXB0eVNjaGVkdWxlZCA9IGVtcHR5U2NoZWR1bGVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZShcIi4uL09ic2VydmFibGVcIik7XG5mdW5jdGlvbiBzY2FsYXIodmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgICByZXN1bHQuX2lzU2NhbGFyID0gdHJ1ZTtcbiAgICByZXN1bHQudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5zY2FsYXIgPSBzY2FsYXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FsYXIuanMubWFwIiwiaW1wb3J0IHtIdHRwUmVxdWVzdENvbmZpZ30gZnJvbSAnLi9odHRwLXJlcXVlc3QtY29uZmlnLmNsYXNzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwQ29uZmlndXJhdGlvbnMge1xyXG4gICAgcHVibGljIHN0YXRpYyBodHRwQ29uZmlndXJhdGlvbnNEaWN0aW9uYXJ5OiB7W2NvbmZpZ05hbWU6IHN0cmluZ106IEh0dHBSZXF1ZXN0Q29uZmlnfSA9IHtcclxuICAgICAgICBQT1NUOiB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICByZWZlcnJlcjogJ25vLXJlZmVycmVyJyxcclxuICAgICAgICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcclxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxyXG4gICAgICAgICAgICBjYWNoZTogJ25vLWNhY2hlJyxcclxuICAgICAgICAgICAgcmVxdWVzdE9iamVjdDoge30sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBHRVQ6IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgcmVmZXJyZXI6ICduby1yZWZlcnJlcicsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXHJcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJyxcclxuICAgICAgICAgICAgY2FjaGU6ICduby1jYWNoZScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBQVVQ6IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgcmVmZXJyZXI6ICduby1yZWZlcnJlcicsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXHJcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJyxcclxuICAgICAgICAgICAgY2FjaGU6ICduby1jYWNoZScsXHJcbiAgICAgICAgICAgIHJlcXVlc3RPYmplY3Q6IHt9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7SHR0cFJlcXVlc3RDb25maWd9IGZyb20gXCIuLi90eXBlcy9odHRwLXJlcXVlc3QtY29uZmlnLmNsYXNzXCI7XHJcbmltcG9ydCB7SHR0cENvbmZpZ3VyYXRpb25zfSBmcm9tIFwiLi4vdHlwZXMvaHR0cC1jb25maWd1cmF0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEh0dHBDb25maWdGYWN0b3J5IHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEh0dHBQb3N0Q29uZmlnRm9yKGNvbmZpZzogSHR0cFJlcXVlc3RDb25maWcpOiBIdHRwUmVxdWVzdENvbmZpZyB7XHJcbiAgICAgICAgY29uc3QgaHR0cFBvc3RDb25maWd1cmF0aW9uOiBIdHRwUmVxdWVzdENvbmZpZyA9IEh0dHBDb25maWd1cmF0aW9ucy5odHRwQ29uZmlndXJhdGlvbnNEaWN0aW9uYXJ5LlBPU1Q7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogIWNvbmZpZy5tZXRob2QgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24ubWV0aG9kIDogY29uZmlnLm1ldGhvZCxcclxuICAgICAgICAgICAgcmVmZXJyZXI6ICFjb25maWcucmVmZXJyZXIgPyAgaHR0cFBvc3RDb25maWd1cmF0aW9uLnJlZmVycmVyIDogY29uZmlnLnJlZmVycmVyLFxyXG4gICAgICAgICAgICByZWRpcmVjdDogIWNvbmZpZy5yZWRpcmVjdCA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5yZWRpcmVjdCA6IGNvbmZpZy5yZWRpcmVjdCxcclxuICAgICAgICAgICAgaGVhZGVyczogIWNvbmZpZy5oZWFkZXJzID8gaHR0cFBvc3RDb25maWd1cmF0aW9uLmhlYWRlcnMgOiAge1xyXG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAuLi5odHRwUG9zdENvbmZpZ3VyYXRpb24uaGVhZGVycyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICFjb25maWcuY3JlZGVudGlhbHMgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24uY3JlZGVudGlhbHMgOiBjb25maWcuY3JlZGVudGlhbHMsXHJcbiAgICAgICAgICAgIG1vZGU6ICFjb25maWcubW9kZSA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5tb2RlIDogY29uZmlnLm1vZGUsXHJcbiAgICAgICAgICAgIGNhY2hlOiAhY29uZmlnLmNhY2hlID8gaHR0cFBvc3RDb25maWd1cmF0aW9uLmNhY2hlIDogY29uZmlnLmNhY2hlLFxyXG4gICAgICAgICAgICByZXF1ZXN0T2JqZWN0OiAhY29uZmlnLnJlcXVlc3RPYmplY3QgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24ucmVxdWVzdE9iamVjdCA6IGNvbmZpZy5yZXF1ZXN0T2JqZWN0LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRIdHRwR2V0Q29uZmlnRm9yKGNvbmZpZzogSHR0cFJlcXVlc3RDb25maWcpOiBIdHRwUmVxdWVzdENvbmZpZyB7XHJcbiAgICAgICAgY29uc3QgaHR0cFBvc3RDb25maWd1cmF0aW9uOiBIdHRwUmVxdWVzdENvbmZpZyA9IEh0dHBDb25maWd1cmF0aW9ucy5odHRwQ29uZmlndXJhdGlvbnNEaWN0aW9uYXJ5LkdFVDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAhY29uZmlnLm1ldGhvZCA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5tZXRob2QgOiBjb25maWcubWV0aG9kLFxyXG4gICAgICAgICAgICByZWZlcnJlcjogIWNvbmZpZy5yZWZlcnJlciA/ICBodHRwUG9zdENvbmZpZ3VyYXRpb24ucmVmZXJyZXIgOiBjb25maWcucmVmZXJyZXIsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0OiAhY29uZmlnLnJlZGlyZWN0ID8gaHR0cFBvc3RDb25maWd1cmF0aW9uLnJlZGlyZWN0IDogY29uZmlnLnJlZGlyZWN0LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiAhY29uZmlnLmhlYWRlcnMgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24uaGVhZGVycyA6ICB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIC4uLmh0dHBQb3N0Q29uZmlndXJhdGlvbi5oZWFkZXJzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsczogIWNvbmZpZy5jcmVkZW50aWFscyA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5jcmVkZW50aWFscyA6IGNvbmZpZy5jcmVkZW50aWFscyxcclxuICAgICAgICAgICAgbW9kZTogIWNvbmZpZy5tb2RlID8gaHR0cFBvc3RDb25maWd1cmF0aW9uLm1vZGUgOiBjb25maWcubW9kZSxcclxuICAgICAgICAgICAgY2FjaGU6ICFjb25maWcuY2FjaGUgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24uY2FjaGUgOiBjb25maWcuY2FjaGUsXHJcbiAgICAgICAgICAgIHJlcXVlc3RPYmplY3Q6ICFjb25maWcucmVxdWVzdE9iamVjdCA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5yZXF1ZXN0T2JqZWN0IDogY29uZmlnLnJlcXVlc3RPYmplY3RcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SHR0cFB1dENvbmZpZ0Zvcihjb25maWc6IEh0dHBSZXF1ZXN0Q29uZmlnKTogSHR0cFJlcXVlc3RDb25maWcge1xyXG4gICAgICAgIGNvbnN0IGh0dHBQb3N0Q29uZmlndXJhdGlvbjogSHR0cFJlcXVlc3RDb25maWcgPSBIdHRwQ29uZmlndXJhdGlvbnMuaHR0cENvbmZpZ3VyYXRpb25zRGljdGlvbmFyeS5QVVQ7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogIWNvbmZpZy5tZXRob2QgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24ubWV0aG9kIDogY29uZmlnLm1ldGhvZCxcclxuICAgICAgICAgICAgcmVmZXJyZXI6ICFjb25maWcucmVmZXJyZXIgPyAgaHR0cFBvc3RDb25maWd1cmF0aW9uLnJlZmVycmVyIDogY29uZmlnLnJlZmVycmVyLFxyXG4gICAgICAgICAgICByZWRpcmVjdDogIWNvbmZpZy5yZWRpcmVjdCA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5yZWRpcmVjdCA6IGNvbmZpZy5yZWRpcmVjdCxcclxuICAgICAgICAgICAgaGVhZGVyczogIWNvbmZpZy5oZWFkZXJzID8gaHR0cFBvc3RDb25maWd1cmF0aW9uLmhlYWRlcnMgOiB7XHJcbiAgICAgICAgICAgICAgICAuLi5jb25maWcuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIC4uLmh0dHBQb3N0Q29uZmlndXJhdGlvbi5oZWFkZXJzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsczogIWNvbmZpZy5jcmVkZW50aWFscyA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5jcmVkZW50aWFscyA6IGNvbmZpZy5jcmVkZW50aWFscyxcclxuICAgICAgICAgICAgbW9kZTogIWNvbmZpZy5tb2RlID8gaHR0cFBvc3RDb25maWd1cmF0aW9uLm1vZGUgOiBjb25maWcubW9kZSxcclxuICAgICAgICAgICAgY2FjaGU6ICFjb25maWcuY2FjaGUgPyBodHRwUG9zdENvbmZpZ3VyYXRpb24uY2FjaGUgOiBjb25maWcuY2FjaGUsXHJcbiAgICAgICAgICAgIHJlcXVlc3RPYmplY3Q6ICFjb25maWcucmVxdWVzdE9iamVjdCA/IGh0dHBQb3N0Q29uZmlndXJhdGlvbi5yZXF1ZXN0T2JqZWN0IDogY29uZmlnLnJlcXVlc3RPYmplY3RcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7SHR0cFJlcXVlc3RDb25maWd9IGZyb20gXCIuLi90eXBlcy9odHRwLXJlcXVlc3QtY29uZmlnLmNsYXNzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSHR0cFJlcXVlc3RNYXBwZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBtYXBSZXF1ZXN0SW5pdEZvcihodHRwUmVxdWVzdENvbmZpZzogSHR0cFJlcXVlc3RDb25maWcpOiBSZXF1ZXN0SW5pdCB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2FjaGU6IGh0dHBSZXF1ZXN0Q29uZmlnLmNhY2hlIGFzIFJlcXVlc3RDYWNoZSxcclxuICAgICAgICAgICAgbW9kZTogaHR0cFJlcXVlc3RDb25maWcubW9kZSBhcyBSZXF1ZXN0TW9kZSxcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IGh0dHBSZXF1ZXN0Q29uZmlnLmNyZWRlbnRpYWxzIGFzIFJlcXVlc3RDcmVkZW50aWFscyxcclxuICAgICAgICAgICAgaGVhZGVyczogaHR0cFJlcXVlc3RDb25maWcuaGVhZGVycyBhcyBIZWFkZXJzSW5pdCxcclxuICAgICAgICAgICAgcmVkaXJlY3Q6IGh0dHBSZXF1ZXN0Q29uZmlnLnJlZGlyZWN0IGFzIFJlcXVlc3RSZWRpcmVjdCxcclxuICAgICAgICAgICAgcmVmZXJyZXI6IGh0dHBSZXF1ZXN0Q29uZmlnLnJlZmVycmVyLFxyXG4gICAgICAgICAgICBtZXRob2Q6IGh0dHBSZXF1ZXN0Q29uZmlnLm1ldGhvZCxcclxuICAgICAgICAgICAgYm9keTogaHR0cFJlcXVlc3RDb25maWcucmVxdWVzdE9iamVjdCA/IEpTT04uc3RyaW5naWZ5KGh0dHBSZXF1ZXN0Q29uZmlnLnJlcXVlc3RPYmplY3QpIDogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnMgP1xuICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICByZXR1cm4gdGhpcztcbn1cblVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IF9wYXJlbnRzID8gX3BhcmVudHMubGVuZ3RoIDogMDtcbiAgICAgICAgd2hpbGUgKF9wYXJlbnQpIHtcbiAgICAgICAgICAgIF9wYXJlbnQucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgX3BhcmVudCA9ICsraW5kZXggPCBsZW4gJiYgX3BhcmVudHNbaW5kZXhdIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykgOiBbZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICAgICAgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGVhcmRvd247XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0ZWFyZG93bik7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gPT09IHRoaXMgfHwgc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLl9hZGRQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudCA9IF9hLl9wYXJlbnQsIF9wYXJlbnRzID0gX2EuX3BhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50ID09PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghX3BhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRzID0gW3BhcmVudF07XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50cy5pbmRleE9mKHBhcmVudCkgPT09IC0xKSB7XG4gICAgICAgICAgICBfcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKGVtcHR5KSB7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5mdW5jdGlvbiBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JzKSB7XG4gICAgcmV0dXJuIGVycm9ycy5yZWR1Y2UoZnVuY3Rpb24gKGVycnMsIGVycikgeyByZXR1cm4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVycik7IH0sIFtdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgcnhTdWJzY3JpYmVyID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gLypAX19QVVJFX18qLyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gX3BhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX25vb3AgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcCc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoIWZucykge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9pbnRlcm5hbF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbnZhciBPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc2luay5hZGQob3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5zb3VyY2UgfHwgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHNpbmspKSB7XG4gICAgICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YWx1ZSA9IHg7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHByb21pc2VDdG9yID0gY29uZmlnLlByb21pc2UgfHwgUHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZUN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlcixfc3ltYm9sX3J4U3Vic2NyaWJlcixfT2JzZXJ2ZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4uL09ic2VydmVyJztcbmV4cG9ydCBmdW5jdGlvbiB0b1N1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIGlmIChuZXh0T3JPYnNlcnZlcikge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFuZXh0T3JPYnNlcnZlciAmJiAhZXJyb3IgJiYgIWNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihlbXB0eU9ic2VydmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY2FuUmVwb3J0RXJyb3Iob2JzZXJ2ZXIpIHtcbiAgICB3aGlsZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF9hID0gb2JzZXJ2ZXIsIGNsb3NlZF8xID0gX2EuY2xvc2VkLCBkZXN0aW5hdGlvbiA9IF9hLmRlc3RpbmF0aW9uLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChjbG9zZWRfMSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5SZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgaG9zdFJlcG9ydEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3V0aWxfc3Vic2NyaWJlVG9Qcm9taXNlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb1Byb21pc2UoaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBzdWI7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG52YXIgT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPdXRlclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU91dGVyU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5uZXJTdWJzY3JpYmVyKHBhcmVudCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm91dGVyVmFsdWUgPSBvdXRlclZhbHVlO1xuICAgICAgICBfdGhpcy5vdXRlckluZGV4ID0gb3V0ZXJJbmRleDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsIHZhbHVlLCB0aGlzLm91dGVySW5kZXgsIHRoaXMuaW5kZXgrKywgdGhpcyk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvciwgdGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIElubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Jbm5lclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbmV4cG9ydCB2YXIgJCRpdGVyYXRvciA9IGl0ZXJhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0b3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5faXNTY2FsYXIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfT3V0ZXJTdWJzY3JpYmVyLF9Jbm5lclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9Jbm5lclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiBjYXRjaEVycm9yKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNhdGNoRXJyb3JPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSBuZXcgQ2F0Y2hPcGVyYXRvcihzZWxlY3Rvcik7XG4gICAgICAgIHZhciBjYXVnaHQgPSBzb3VyY2UubGlmdChvcGVyYXRvcik7XG4gICAgICAgIHJldHVybiAob3BlcmF0b3IuY2F1Z2h0ID0gY2F1Z2h0KTtcbiAgICB9O1xufVxudmFyIENhdGNoT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2F0Y2hPcGVyYXRvcihzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgfVxuICAgIENhdGNoT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBDYXRjaFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5zZWxlY3RvciwgdGhpcy5jYXVnaHQpKTtcbiAgICB9O1xuICAgIHJldHVybiBDYXRjaE9wZXJhdG9yO1xufSgpKTtcbnZhciBDYXRjaFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ2F0Y2hTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhdGNoU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgc2VsZWN0b3IsIGNhdWdodCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuY2F1Z2h0ID0gY2F1Z2h0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhdGNoU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc2VsZWN0b3IoZXJyLCB0aGlzLmNhdWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyMikge1xuICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLCBlcnIyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTtcbiAgICAgICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgSW5uZXJTdWJzY3JpYmVyKHRoaXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHRoaXMuYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgICAgICBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCByZXN1bHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2F0Y2hTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhdGNoRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Jbm5lclN1YnNjcmliZXIsX3N1YnNjcmliZVRvIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IElubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL0lubmVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vc3Vic2NyaWJlVG8nO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvUmVzdWx0KG91dGVyU3Vic2NyaWJlciwgcmVzdWx0LCBvdXRlclZhbHVlLCBvdXRlckluZGV4LCBkZXN0aW5hdGlvbikge1xuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IElubmVyU3Vic2NyaWJlcihvdXRlclN1YnNjcmliZXIsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpO1xuICAgIH1cbiAgICBpZiAoZGVzdGluYXRpb24uY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoZGVzdGluYXRpb24pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9SZXN1bHQuanMubWFwXG4iLCJpbXBvcnQge0h0dHBSZXF1ZXN0Q29uZmlnfSBmcm9tIFwiLi90eXBlcy9odHRwLXJlcXVlc3QtY29uZmlnLmNsYXNzXCI7XHJcbmltcG9ydCB7SUh0dHB9IGZyb20gXCIuL3R5cGVzL2h0dHAuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7SHR0cENvbmZpZ0ZhY3Rvcnl9IGZyb20gXCIuL2ZhY3Rvcmllcy9odHRwLWNvbmZpZy5mYWN0b3J5XCI7XHJcbmltcG9ydCB7SHR0cFJlcXVlc3RNYXBwZXJ9IGZyb20gXCIuL21hcHBlcnMvaHR0cC1yZXF1ZXN0Lm1hcHBlclwiO1xyXG5cclxuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQge2Zyb21Qcm9taXNlfSBmcm9tIFwicnhqcy9pbnRlcm5hbC1jb21wYXRpYmlsaXR5XCI7XHJcbmltcG9ydCB7Y2F0Y2hFcnJvcn0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcbmltcG9ydCB7b2Z9IGZyb20gXCJyeGpzL2ludGVybmFsL29ic2VydmFibGUvb2ZcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwQ2xpZW50IGltcGxlbWVudHMgSUh0dHAge1xyXG5cclxuICAgIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIGNvbmZpZzogSHR0cFJlcXVlc3RDb25maWcgPSB7fSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdENvbmZpZzogSHR0cFJlcXVlc3RDb25maWcgPSBIdHRwQ29uZmlnRmFjdG9yeS5nZXRIdHRwR2V0Q29uZmlnRm9yKGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnT2JqZWN0OiBSZXF1ZXN0SW5pdCA9IEh0dHBSZXF1ZXN0TWFwcGVyLm1hcFJlcXVlc3RJbml0Rm9yKHJlcXVlc3RDb25maWcpO1xyXG5cclxuICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoXHJcbiAgICAgICAgICAgIGZldGNoKHVybCwgY29uZmlnT2JqZWN0KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkpXHJcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IoKGVycm9yKSA9PiBvZihlcnJvcikpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgY29uZmlnOiBIdHRwUmVxdWVzdENvbmZpZyA9IHt9KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgICAgICBjb25zdCByZXF1ZXN0Q29uZmlnOiBIdHRwUmVxdWVzdENvbmZpZyA9IEh0dHBDb25maWdGYWN0b3J5LmdldEh0dHBQb3N0Q29uZmlnRm9yKGNvbmZpZyk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnT2JqZWN0OiBSZXF1ZXN0SW5pdCA9IEh0dHBSZXF1ZXN0TWFwcGVyLm1hcFJlcXVlc3RJbml0Rm9yKHJlcXVlc3RDb25maWcpO1xyXG5cclxuICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoXHJcbiAgICAgICAgICAgIGZldGNoKHVybCwgY29uZmlnT2JqZWN0KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkpXHJcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IoKGVycm9yKSA9PiBvZihlcnJvcikpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBjb25maWc6IEh0dHBSZXF1ZXN0Q29uZmlnID0ge30pOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RDb25maWc6IEh0dHBSZXF1ZXN0Q29uZmlnID0gSHR0cENvbmZpZ0ZhY3RvcnkuZ2V0SHR0cFB1dENvbmZpZ0Zvcihjb25maWcpO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ09iamVjdDogUmVxdWVzdEluaXQgPSBIdHRwUmVxdWVzdE1hcHBlci5tYXBSZXF1ZXN0SW5pdEZvcihyZXF1ZXN0Q29uZmlnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKFxyXG4gICAgICAgICAgICBmZXRjaCh1cmwsIGNvbmZpZ09iamVjdClcclxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpKVxyXG4gICAgICAgICAgICAucGlwZShjYXRjaEVycm9yKChlcnJvcikgPT4gb2YoZXJyb3IpKSk7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==